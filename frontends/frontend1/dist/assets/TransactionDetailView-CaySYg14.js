import{_ as p,E as g,c as x,b as e,d as s,e as r,F as u,h as c,o as v,q as n,t as a,g as m}from"./index-BGBuXAIC.js";const f="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1711876959487'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1481'%20width='20'%20height='20'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cpath%20d='M707.323%20960.556l56.093-54.503-403.917-392.469%20403.917-392.475-56.093-54.502L247.32%20513.584l460.004%20446.972z%20m0%200z'%20p-id='1482'%3e%3c/path%3e%3c/svg%3e",y="/assets/TransactionDetailsvg-ANbk1-Xm.svg",w={data(){return{receivedData:null,currentTime:""}},created(){const i=this.$route.query.data;if(i)try{const t=JSON.parse(decodeURIComponent(i));this.receivedData=t,console.log(this.receivedData)}catch(t){console.error("解析查询字符串时出错:",t)}this.getCurrentTime(),this.intervalId=setInterval(this.getCurrentTime,1e3)},beforeDestroy(){clearInterval(this.intervalId)},methods:{getCurrentTime(){const i=new Date;this.currentTime=i.toLocaleString()},Buy(){this.$http.post("http://47.97.176.174:8087/chainmaker?cmb=AToBTransaction",{tradeID:this.receivedData.TradeId,sellerID:this.receivedData.Seller,buyerID:this.receivedData.Buyer,carbonCredit:this.receivedData.CarbonCredit.toString(),carbonCoin:this.receivedData.CarbonCoin.toString()}).then(i=>{g({message:"购买成功",type:"success"}),this.$router.go(-1)})}}},_={style:{width:"100%",height:"850px",background:"linear-gradient(to bottom , #FF88FF 30% ,white 40%)",display:"flex","flex-direction":"column","align-items":"center"}},b={style:{display:"flex",width:"100%","flex-direction":"row","justify-content":"left","align-items":"center","padding-top":"100px","margin-left":"100px"}},D=m('<div style="display:flex;flex-direction:row;justify-content:center;align-items:center;"><div style="width:20px;height:40px;display:flex;justify-content:center;align-items:center;"><img src="'+f+'"></div><div style="width:10px;"></div><div style="font-weight:bold;font-size:20px;"> 返回 </div></div>',1),C=[D],T={style:{width:"660px",height:"400px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},k=e("div",{style:{width:"100%",display:"flex","flex-direction":"row","justify-content":"left","align-items":"center"}},[e("div",{style:{"font-weight":"bold","font-size":"30px",color:"white"}}," 交易信息 : ")],-1),B={style:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center","margin-top":"30px"}},S=e("div",{style:{width:"100px"}},null,-1),I=e("div",{style:{display:"flex",height:"300px","flex-direction":"row","justify-content":"left","align-items":"center"}},[e("div",{style:{width:"300px",height:"300px"}},[e("img",{src:y})]),e("div",{style:{"font-size":"30px","font-weight":"bolder"}}," ----请确保交易的安全 ")],-1);function $(i,t,j,N,V,d){const o=c("el-descriptions-item"),h=c("el-descriptions");return v(),x(u,null,[e("div",_,[e("div",b,[e("button",{style:{width:"100px",height:"40px","background-color":"white","border-radius":"15px"},onClick:t[0]||(t[0]=l=>this.$router.go(-1))},C)]),e("div",T,[k,s(h,{border:"",column:1,style:{width:"570px","margin-top":"50px"}},{default:r(()=>[s(o,{label:"出售方"},{default:r(()=>[n(a(this.receivedData.Seller),1)]),_:1}),s(o,{label:"购买方"},{default:r(()=>[n(a(this.receivedData.Buyer),1)]),_:1}),s(o,{label:"出售碳币金额"},{default:r(()=>[n(a(this.receivedData.CarbonCoin),1)]),_:1}),s(o,{label:"获得碳额度"},{default:r(()=>[n(a(this.receivedData.CarbonCredit),1)]),_:1}),s(o,{label:"交易时间"},{default:r(()=>[n(a(this.currentTime),1)]),_:1})]),_:1}),e("div",B,[e("button",{onClick:t[1]||(t[1]=(...l)=>d.Buy&&d.Buy(...l)),style:{width:"100px",height:"50px","background-color":"springgreen","border-radius":"5px"}}," 确定交易 "),S,e("button",{onClick:t[2]||(t[2]=l=>this.$router.go(-1)),style:{width:"100px",height:"50px","background-color":"deeppink","border-radius":"5px"}}," 取消交易 ")])])]),I],64)}const z=p(w,[["render",$]]);export{z as default};
