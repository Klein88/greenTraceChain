<script setup>
import {
  Monitor,
  FullScreen,
  Delete,
  Search,
  Message,
  Setting
} from '@element-plus/icons-vue'
import avatar from "@/assets/public/avatar.jpg";
import {ref} from "vue";
import {useRoute} from "vue-router";
import Tag from "@/components/Tag.vue";

const avatarUrl = ref(avatar)
const route = useRoute()

const handleOpen = (key, keyPath) => {
  console.log(key, keyPath)
}
const handleClose = (key, keyPath) => {
  console.log(key, keyPath)
}
</script>

<template>
  <div class="common-layout">
    <el-container>
      <el-aside class="aside">
        <el-card class="aside-card">
          <div class="aside-card-logo">
            <img src="../assets/public/logo.png" alt="logo">
          </div>
          <el-scrollbar>
            <el-menu
                :default-active="route.path"
                class="el-menu-vertical-demo"
                @open="handleOpen"
                @close="handleClose"
                router
                background-color="#283342"
                text-color="#909399"
                active-text-color="#FFFFFF"
            >
              <el-menu-item index="/Dashboard">
                <el-icon>
                  <svg t="1711910594745" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8544" width="30" height="30"><path d="M512 1024C229.2 1024 0 794.8 0 512S229.2 0 512 0s512 229.2 512 512-229.2 512-512 512z m0-921.6c-226.2 0-409.6 183.4-409.6 409.6 0 93.2 31.2 179.1 83.6 247.9 18.6 24.5 54.7 26.7 76.3 4.9l0.7-0.7c17.8-18 19.6-46.3 4.3-66.4-40.2-52.8-63.7-119.1-62.5-190.9 2.8-167.5 140.6-302.4 308.1-301.9 66 0.2 126.9 21.4 176.8 57L538.2 413.4c-8.4-2.2-17.1-3.8-26.2-3.8-57 0-103.1 46.5-102.4 103.6 0.7 55.1 45.5 100.2 100.7 101.1 57.3 0.9 104.1-45.2 104.1-102.4 0-9.2-1.5-17.7-3.8-26.2l151.6-151.6c35.7 50.2 57 111.4 57 177.8 0 69-22.7 132.7-61.1 184-15.2 20.4-13.2 48.8 4.8 66.8 22.1 22.1 58.5 19.4 77.2-5.5 51.2-68.4 81.5-153.3 81.5-245.3 0-226.1-183.4-409.5-409.6-409.5z" p-id="8545"></path></svg>
                </el-icon>
                <span>控制台</span>
              </el-menu-item>
              <el-menu-item index="/DataAnalysis">
                <el-icon>
                  <svg t="1711910118568" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3876" width="30" height="30"><path d="M1017.321739 95.721739c-6.678261-20.034783-17.808696-37.843478-31.165217-53.426087C961.669565 15.582609 928.278261 0 894.886957 0H135.791304c-6.678261 0-11.130435 0-15.582608 2.226087-33.391304 2.226087-64.556522 20.034783-84.591305 44.521739C15.582609 71.234783 2.226087 100.173913 0 131.33913v569.878261c0 4.452174 0 8.904348 2.226087 15.582609 2.226087 28.93913 13.356522 55.652174 31.165217 75.686957 20.034783 26.713043 51.2 44.521739 84.591305 48.973913 13.356522 2.226087 26.713043 2.226087 40.069565 2.226087h329.460869v126.886956H173.634783c-11.130435 0-22.26087 8.904348-24.486957 17.808696-4.452174 13.356522 0 26.713043 13.356522 33.391304 2.226087 2.226087 11.130435 2.226087 17.808695 2.226087H845.913043c6.678261 0 11.130435 0 17.808696-2.226087 11.130435-4.452174 17.808696-17.808696 15.582609-28.93913-2.226087-11.130435-8.904348-20.034783-17.808696-22.26087-4.452174-2.226087-11.130435-2.226087-15.582609-2.226087H538.713043v-126.886956h338.365218c11.130435 0 20.034783 0 31.165217-2.226087 20.034783-2.226087 40.069565-11.130435 55.652174-22.26087 26.713043-20.034783 48.973913-51.2 55.652174-84.591304 2.226087-8.904348 2.226087-17.808696 4.452174-26.713044V135.791304c-2.226087-13.356522-2.226087-26.713043-6.678261-40.069565z m-211.478261 563.2H273.808696c-22.26087 0-37.843478-15.582609-37.843479-37.843478V240.417391c0-22.26087 15.582609-37.843478 37.843479-37.843478s37.843478 15.582609 37.843478 37.843478v342.817392h494.191304c22.26087 0 37.843478 15.582609 37.843479 37.843478s-15.582609 37.843478-37.843479 37.843478z m37.843479-304.973913c0 22.26087-15.582609 37.843478-37.843479 37.843478s-37.843478-15.582609-37.843478-37.843478v-22.260869l-164.730435 164.730434c-6.678261 6.678261-15.582609 11.130435-26.713043 11.130435s-20.034783-4.452174-26.713044-11.130435L500.869565 445.217391l-86.817391 86.817392c-6.678261 6.678261-15.582609 11.130435-26.713044 11.130434-22.26087 0-37.843478-15.582609-37.843478-37.843478 0-11.130435 4.452174-20.034783 11.130435-26.713043l113.530435-113.530435c6.678261-6.678261 15.582609-11.130435 26.713043-11.130435s20.034783 4.452174 26.713044 11.130435l48.973913 48.973913 138.017391-138.017391h-22.26087c-22.26087 0-37.843478-15.582609-37.843478-37.843479S670.052174 200.347826 692.313043 200.347826h113.530435c22.26087 0 37.843478 15.582609 37.843479 37.843478v115.756522z" p-id="3877"></path></svg>
                </el-icon>
                <span>数据分析</span>
              </el-menu-item>
              <el-menu-item index="/User">
                <el-icon>
                  <svg t="1711910080209" class="icon" viewBox="0 0 1280 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18354" width="30" height="30"><path d="M192 256a256 256 0 1 1 512 0 256 256 0 1 1-512 0zM0 964.6C0 767.6 159.6 608 356.6 608h182.8c197 0 356.6 159.6 356.6 356.6 0 32.8-26.6 59.4-59.4 59.4H59.4C26.6 1024 0 997.4 0 964.6zM1218.6 1024H942.8c10.8-18.8 17.2-40.6 17.2-64v-16c0-121.4-54.2-230.4-139.6-303.6 4.8-0.2 9.4-0.4 14.2-0.4h122.8c178.2 0 322.6 144.4 322.6 322.6 0 34-27.6 61.4-61.4 61.4zM864 512c-62 0-118-25.2-158.6-65.8 39.4-53.2 62.6-119 62.6-190.2 0-53.6-13.2-104.2-36.6-148.6C768.6 80.2 814.4 64 864 64c123.8 0 224 100.2 224 224s-100.2 224-224 224z" p-id="18355"></path></svg>
                </el-icon>
                <span>用户管理</span>
              </el-menu-item>
              <el-menu-item index="/DataExamine">
                <el-icon>
                  <svg t="1711910267559" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4688" width="30" height="30"><path d="M636.66087 240.417391c2.226087 2.226087 4.452174 6.678261 6.67826 8.904348 8.904348 8.904348 20.034783 13.356522 33.391305 13.356522h251.547826l-44.521739-40.069565L667.826087 31.165217 634.434783 0h-4.452174v218.156522c0 6.678261 2.226087 13.356522 4.452174 17.808695 0 2.226087 0 4.452174 2.226087 4.452174z" p-id="4689"></path><path d="M957.217391 333.913043H674.504348c-26.713043 0-48.973913-8.904348-69.008696-22.260869-4.452174-2.226087-6.678261-6.678261-11.130435-8.904348-4.452174-4.452174-6.678261-8.904348-11.130434-11.130435l-4.452174-4.452174c-2.226087-4.452174-6.678261-8.904348-8.904348-13.356521 0-2.226087-2.226087-4.452174-2.226087-6.678261-2.226087-4.452174-4.452174-11.130435-4.452174-15.582609 0-2.226087-2.226087-4.452174-2.226087-6.678261-2.226087-6.678261-2.226087-15.582609-2.226087-24.486956V0H200.347826C126.886957 0 66.782609 60.104348 66.782609 135.791304v756.869566C69.008696 966.121739 129.113043 1024 202.573913 1024h618.852174c75.686957 0 135.791304-60.104348 135.791304-135.791304V333.913043zM169.182609 166.956522h338.365217v133.565217H169.182609v-133.565217z m0 202.573913h135.791304v402.921739H169.182609V369.530435z m0 540.93913v-71.234782H779.130435v71.234782H169.182609zM779.130435 707.895652H371.756522v-71.234782H779.130435v71.234782z m0-200.347826H371.756522v-71.234783H779.130435v71.234783z" p-id="4690"></path></svg>
                </el-icon>
                <span>数据审核</span>
              </el-menu-item>
              <el-sub-menu index="">
                <template #title>
                  <el-icon>
                    <svg t="1711911727533" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19715" width="30" height="30"><path d="M855.04 385.024q19.456 2.048 38.912 10.24t33.792 23.04 21.504 37.376 2.048 54.272q-2.048 8.192-8.192 40.448t-14.336 74.24-18.432 86.528-19.456 76.288q-5.12 18.432-14.848 37.888t-25.088 35.328-36.864 26.112-51.2 10.24l-567.296 0q-21.504 0-44.544-9.216t-42.496-26.112-31.744-40.96-12.288-53.76l0-439.296q0-62.464 33.792-97.792t95.232-35.328l503.808 0q22.528 0 46.592 8.704t43.52 24.064 31.744 35.84 12.288 44.032l0 11.264-53.248 0q-40.96 0-95.744-0.512t-116.736-0.512-115.712-0.512-92.672-0.512l-47.104 0q-26.624 0-41.472 16.896t-23.04 44.544q-8.192 29.696-18.432 62.976t-18.432 61.952q-10.24 33.792-20.48 65.536-2.048 8.192-2.048 13.312 0 17.408 11.776 29.184t29.184 11.776q31.744 0 43.008-39.936l54.272-198.656q133.12 1.024 243.712 1.024l286.72 0z" p-id="19716"></path></svg>
                  </el-icon>
                  <span>碳排放报告</span>
                </template>
                <el-menu-item index="/CarbonEmissionReport">
                  <el-icon>
                    <svg t="1711951373126" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2629" width="30" height="30"><path d="M901.63125 926.725c0 12.8-5.125 25.0875-14.3375 34.3-9.225 9.2125-21.5 14.3375-34.3125 14.3375H170.49375c-12.8 0-25.6-5.125-34.3-14.3375-9.2125-9.225-14.3375-21.5-14.3375-34.3V48.6375c0-12.8 5.1125-25.6 14.3375-34.3C144.89375 5.125 157.70625 0 170.49375 0H589.31875c12.8 0 25.6 5.125 34.8125 14.3375l263.675 263.6875c9.2125 9.2125 14.3375 21.5 14.3375 34.8125v613.8875h-0.5125z" fill="#EBECF0" p-id="2630"></path><path d="M901.63125 926.725v48.6375c0 12.8-5.125 25.6-14.3375 34.3-9.225 9.225-21.5 14.3375-34.3125 14.3375H170.49375c-27.1375 0-48.6375-22.0125-48.6375-48.6375v-48.6375c0 12.8 5.1125 25.0875 14.3375 34.3 9.2125 9.2125 21.5 14.3375 34.3 14.3375h682.5c27.1375 0 48.6375-22.0125 48.6375-48.6375z" fill="#C1C7D0" p-id="2631"></path><path d="M121.85625 536.575v-97.8L24.06875 536.575h97.7875z m779.775 0l1.025-97.8 97.275 97.8h-98.3z" fill="#D30000" p-id="2632"></path><path d="M901.63125 312.8375v6.65H637.94375c-27.1375 0-48.6375-22.0125-48.6375-48.6375V0c12.8 0 25.6 5.125 34.8125 14.3375L888.31875 278.025c8.7 9.2125 13.825 21.5 13.3125 34.8125z" fill="#C1C7D0" p-id="2633"></path><path d="M502.93125 611.1125H462.81875v142.9875h39.4c44.75 0 68.9375-25.2125 68.9375-73.85 0-42.325-22.125-68.575-68.225-69.1375zM274.95625 611.1875H217.56875v60.7625h57.3875c23.5125 0 38.375-8.0625 38.375-30.7875 0-18.525-11.3875-29.975-38.375-29.975z" fill="#FF1D1D" p-id="2634"></path><path d="M24.58125 536.575v243.2c0 13.3125 5.1125 25.6 14.3375 34.8125 8.7 9.225 21.5 14.3375 34.3 14.3375h877.575c26.625 0 48.6375-21.5 48.6375-48.6375V536.575H24.58125z m254.675 178.475H217.56875v82.075h-55.8v-228.75h118.3625c53.1875 0 88.55 26.8875 88.55 71.9s-33.3125 74.775-89.425 74.775z m230.275 82.075h-102.225v-228.75h103.4c77.075 0 119.25 50.025 119.25 110.375 0 73.225-53.85 118.375-120.425 118.375z m354.3375-184.5875H731.13125v52.025h123.8125v44.4875h-123.8125v88.0625h-55.5125v-228.75h188.25v44.1625z" fill="#FF1D1D" p-id="2635"></path><path d="M280.11875 568.375h-118.35v228.75h55.8v-82.075h61.6875c56.1125 0 89.425-28 89.425-74.775s-35.3625-71.9-88.55-71.9z m-5.175 103.575h-57.3875v-60.7625h57.3875c26.9875 0 38.375 11.45 38.375 29.975 0 22.7125-14.875 30.7875-38.375 30.7875zM510.70625 568.375h-103.4v228.75h102.225c66.575 0 120.425-45.15 120.425-118.375 0-60.35-42.1625-110.375-119.25-110.375z m-8.5 185.725h-39.4V611.1125h40.1125c46.0875 0.575 68.225 26.825 68.225 69.1375 0 48.6375-24.1875 73.85-68.9375 73.85zM675.61875 797.125h55.5125v-88.0625h123.8125v-44.4875h-123.8125v-52.025h132.7375V568.375h-188.25v228.75z" fill="#FFFFFF" p-id="2636"></path></svg>
                  </el-icon>
                  <span>PDF</span>
                </el-menu-item>
              </el-sub-menu>
              <el-menu-item index="/CarbonCredit">
                <el-icon>
                  <svg t="1711912255004" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="44743" width="30" height="30"><path d="M511.99772445 229.54211555c-220.7744 0-396.09116445 175.32017778-396.09116445 396.0888889C115.90542222 846.40426667 291.22332445 1021.72444445 511.99772445 1021.72444445s396.08775111-175.32017778 396.0877511-396.09457778c0-220.76871111-175.31335111-396.08888889-396.0877511-396.08888889z m201.29336888 357.13251556l-77.92412444 77.91729778 19.49013333 110.3872c6.48988445 38.96092445-12.99000889 51.95093333-45.45422222 32.46307556l-97.40515555-51.94410667-97.39719112 51.94410667c-32.47217778 19.48785778-51.94410667 0-45.45422222-32.46307556l19.47420444-110.3872-77.90819555-77.91729778c-25.98115555-25.97205333-19.49013333-51.95093333 19.47306667-58.44195556l103.88935111-12.98318222 45.45194667-97.39719111c12.99683555-32.47217778 38.96888889-32.47217778 58.44309333 0l45.45422222 97.39719111 110.3872 12.98318222c38.96092445 12.98887111 51.95093333 32.46990222 19.47989333 58.44195556zM908.08547555 47.72977778c6.49898667-6.48988445 6.49898667-12.98773333 6.49898667-12.98773333 0-12.98432-12.99000889-25.96522667-25.97205333-25.96522667H641.86595555c-12.98887111 0-25.97205333 6.49102222-25.97205333 19.47306667l-77.92412444 142.85141333s162.33927111 6.49671111 259.73646222 103.89504l110.37923555-227.26656zM486.02567111 171.10016L408.10951111 21.75658667c0-12.98204445-12.99000889-19.48103111-25.98001778-19.48103112H141.88088889c-19.48216889 0-32.46648889 12.99000889-32.46648889 25.97205334 0 6.49216 0 12.99000889 6.49102222 12.99000889l110.39061333 227.26428444c97.39719111-84.41400889 259.72849778-97.40174222 259.72849778-97.40174222z" p-id="44744"></path></svg>
                </el-icon>
                <span>碳信用管理</span>
              </el-menu-item>
              <el-menu-item index="/Traceability">
                <el-icon>
                  <svg t="1712495876234" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3131" width="32" height="32"><path d="M608 64A96 96 0 0 1 704 160v144a96 96 0 0 1-96 96h-64V480H704A96 96 0 0 1 800 576v48h64a96 96 0 0 1 96 96v144a96 96 0 0 1-96 96h-192A96 96 0 0 1 576 864v-144a96 96 0 0 1 96-96h64V576a32 32 0 0 0-31.488-32H320a32 32 0 0 0-32 31.488v48.512h64a96 96 0 0 1 96 96v144A96 96 0 0 1 352 960h-192A96 96 0 0 1 64 864v-144a96 96 0 0 1 96-96h64V576A96 96 0 0 1 320 480h160V400h-64A96 96 0 0 1 320 304V160A96 96 0 0 1 416 64h192z" p-id="3132"></path></svg>
                </el-icon>
                <span>溯源中心</span>
              </el-menu-item>
            </el-menu>
          </el-scrollbar>
        </el-card>
      </el-aside>
      <el-container>
        <el-header class="header">
          <Tag />
          <el-card class="header-card">
            <el-button-group class="header-card-button">
              <el-button>
                <el-icon><Monitor /></el-icon>
              </el-button>
              <el-button>
                <el-icon><FullScreen /></el-icon>
              </el-button>
              <el-button>
                <el-icon><Delete /></el-icon>
              </el-button>
              <el-button>
                <el-icon><Search /></el-icon>
              </el-button>
              <el-button>
                <el-icon><Message /></el-icon>
              </el-button>
              <el-tooltip content="第三方监管机构" placement="bottom">
                <el-button class="header-card-button-avatar">
                  <img :src="avatarUrl" alt="avatar">
                  <span>第三方监管机构</span>
                </el-button>
              </el-tooltip>
              <el-button>
                <el-icon><Setting /></el-icon>
              </el-button>
            </el-button-group>
          </el-card>
        </el-header>
        <el-main class="main">
          <router-view></router-view>
        </el-main>
      </el-container>
    </el-container>
  </div>
</template>

<style scoped>
.common-layout {
  height: 100vh;
  width: 100vw;
  background-color: #F5F5F5;
}

.aside {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 275px;
}

.aside-card {
  height: 100vh;
  background-color: #283342;
}

.aside-card :deep(.el-card__body) {
  padding: 0;
}

.aside-card-logo {
  height: 60px;
  background-color: #283342;
  display: flex;
  justify-content: center;
  align-items: center;
}

.aside-card-logo img {
  width: 100%;
}

.aside-card .el-scrollbar {
  height: calc(100vh - 60px);
}

.el-menu-vertical-demo {
  border: 0;
}

.el-menu-vertical-demo span {
  font-weight: bold;
}

.el-menu-item {
  border-radius: 10px;
  margin: 0 10px;
}

.el-menu-item.is-active {
  background-color: #009099;
  border-radius: 10px;
}

:deep(.el-sub-menu__title) {
  border-radius: 10px;
  margin: 0 10px;
}

.header {
  position: fixed;
  top: 0;
  right: 0;
  width: calc(100vw - 275px);
  padding: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-card {
  height: 50px;
  margin: 0 15px 0 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.header :deep(.el-card__body) {
  padding: 0;
}

.header-card-button .el-button {
  height: 50px;
  font-size: large;
  padding: 10px;
  border: 0;
}

.header-card-button .el-button .el-icon {
  color: #000000;
  transition: all .3s ease;
}

.header-card-button .el-button .el-icon:hover {
  transform: scale(1.25);
}

.header-card-button-avatar img {
  height: 25px;
  width: 25px;
  border-radius: 50%;
  margin-right: 10px;
}

.header-card-button-avatar span {
  font-size: 14px;
}

.main {
  position: fixed;
  bottom: 0;
  right: 0;
  height: calc(100vh - 60px);
  width: calc(100vw - 275px);
  padding: 0;
}

:deep(.el-card) {
  border: 0;
  border-radius: 0;
}
</style>
